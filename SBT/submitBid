<!DOCTYPE html>
<html>
  <head>
    <title>Submit Bid Utility</title>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
    <meta http-equiv="Pragma" content="no-cache"/>
    <meta http-equiv="Expires" content="0"/>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Lato:300|Roboto:300i" rel="stylesheet">

    <script type="text/javascript" src="bundle/bidUtil_TIMESTAMP_1512002773_.js"></script>
    <script type="text/javascript" src="bundle/ether_TIMESTAMP_1512002773_.js"></script>

    <!--
	little bit of javascript for modal
      -->
    <script>
      window.onload = function() {
        var modal = document.getElementById('infoModal');
        var importantInfobtn = document.getElementById('importantInfoButton');
        var span = document.getElementsByClassName("close")[0];
        // When the user clicks on the info button, open the modal
        importantInfobtn.onclick = function() {  modal.style.display = "block"; }
        // When the user clicks on close, close the modal
        span.onclick = function() { modal.style.display = "none"; }
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal)
          modal.style.display = "none";
        }
      };
    </script>
  </head>

  <body>


    <!--
	modal for important information
      -->
    <div id="infoModal" class="modal">
      <!-- Modal content -->
      <div class="modal-content">
	<span class="close">&times;</span>
	<p>
	  <h2>Notes:</h2>
	  <ul style="list-style-type: circle;">
	    <li>
	      <h3>If the auction strike-price is higher than the maximum price that you specify, then you will not receive any tokens; your entire deposit will be refunded to you.</h3>
	    </li>
	    <li>
	      <h3>If the auction strike-price is lower than the maximum price that you specify, then you will receive the the number of tokens that you specify (Quantity); you will also receive a refund for the difference between the strike-price and the price that you specify.</h3>
	    </li>
	    <li>
	      <h3>Your bid will be secret. Your bid is hashed with a secret "Salt Code", which is generated by signing an arbitrary message. The hash of the bid information and the "Salt Code" is your "Bid Hash."</h3>
	    </li>
	    <li>
	      <h3>Your bid information is also encrypted using the public key of the Auctioneer. This is the "Encrypted Bid Message."</h3>
	    </li>
	    <li>
	      <h3>The "Bid Hash" and the "Encrypted Bid Message" will be sent to the Auction contract, together with your ETH deposit, when you submit your Secret Bid.
		<br/>You do not need to remember your Salt Code or your Bid Hash.
		<br/>You do need to remember the Price and Quantity that you bid.</h3>
	    </li>
	    <li>
	      <h3>Use the form to generate your "Bid Hash" and "Encrypted Bid Message."; then click "SUBMIT SECRET BID"</h3>
	    </li>
	    <li>
	      <h3>You can only submit one secret bid from an Ether account -- If you want to submit another bid, then you will need to use a different account</h3>
	    </li>
	    <li>
	      <h3>After you successfully submit you secret bid, you need to wait until the end of the auction bidding period.<br/>Then you will need to reveal and execute your bid using the <a href="executeBid">Utility to Reveal and Execute a Bid</a></h3>
	    </li>
	  </ul>
	</p>
      </div>
    </div>

    <div id="topSection">
      <table style="height: 315px;" width="100%">
	<tbody>
	  <tr>
	    <td><img src="" alt="Logo goes here " width="160px" height="160px"/></td>
	    <td>
	      <h1 style="text-align: center;">Utility to Submit a Secret Bid</h1>
	    </td>
	    <td>
	      <div style="float:right;">
		<img src="images/download-metamask.png" alt="Download MetaMask" width="300px" height="90px">
	      </div>
	      <h2>Purchasing tokens is a two-step process:</h2>
	      <ol style="list-style-type: upper-roman;">
		<li>
		  <h2>Submiting a Secret bid</h2>
		</li>
		<li>
		  <h2>Revealing and Executing the Bid after the Auction Period is Over</h2>
		</li>
	      </ol>
	    </td>
	  </tr>
	</tbody>
      </table>
    </div>

    <h2>This web page is the utility for submiting a secret bid</h2>
    <div>
      <ol>
	<li>
	  <h3>In the Price field Enter the maximum price that you are willing to pay for each whole Token (in ETH).
	    <br/>For example, if you would like to purchase 3 tokens for a maximum price of 5 Finney each, then you should enter 0.005 in this field.
	  </h3>
	</li>
	<li>
	  <h3>In the Quantity field enter the maximum number of whole Tokens that you would like to purchase at the specified price.
	  <br/>Note: you cannot purchase fractional tokens.</h3>
	</li>
      </ol>
      <!-- for important information modal -->
      <button id="importantInfoButton" type="button">Click here for important information</button>
      <div>
	<table width="100%">
	  <tr>
	    <td><div id="genBidFormDiv"/></td>
	    <td><div id="genBidResultsDiv"/></td>
	  </tr>
	</table>
      </div>
      <h2>Click SUBMIT SECRET BID below to send your "Bid Hash" and "Encrpted Bid Message", together with the deposit amount, to the Auction Contract.</h2>
      <button id="submitBidButton" type="button" class="formtable" disabled="true">SUBMIT SECRET BID</button>
      <div id="submitStatusDiv" style="display: none;"></div>
      <p>&nbsp;</p>
    </div>
  </body>
</html>
